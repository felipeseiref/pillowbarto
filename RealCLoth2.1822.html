<html xmlns='http://www.w3.org/1999/xhtml'>
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge"/>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>KeyShotXR Scroll</title>
    <style type="text/css">
      body {
        height: 6000px; /* Espacio para scrollear */
        margin: 0;
        background-color: #ffffff;
      }
      #KeyShotXR {
        position: sticky;
        top: 0;
        width: 100vw;
        height: 100vh;
        display: flex;
        justify-content: center;
        align-items: center;
      }
    </style>

    <script type="text/javascript" src="RealCLoth2.1822/files/KeyShotXR.js"></script>
    <script type="text/javascript">
      var keyshotXR;
      var totalFrames = 379; // igual que tu uCount

      function initKeyShotXR() {
        var nameOfDiv = "KeyShotXR";
        var folderName = "RealCLoth2.1822";
        var viewPortWidth = 497;
        var viewPortHeight = 883;
        var backgroundColor = "#FFFFFF";
        var uCount = 379;
        var vCount = 1;
        var uWrap = true;
        var vWrap = false;
        var uMouseSensitivity = -0.05;
        var vMouseSensitivity = 0.05;
        var uStartIndex = 378;
        var vStartIndex = 0;
        var minZoom = 1;
        var maxZoom = 1;
        var rotationDamping = 0.96;
        var downScaleToBrowser = true;
        var addDownScaleGUIButton = false;
        var downloadOnInteraction = false;
        var imageExtension = "png";
        var showLoading = true;
        var loadingIcon = "LOGO-03-03.png";
        var allowFullscreen = true;
        var uReverse = false;
        var vReverse = false;
        var hotspots = {};
        var isIBooksWidget = false;

        keyshotXR = new keyshotXR(
          nameOfDiv, folderName, viewPortWidth, viewPortHeight, backgroundColor,
          uCount, vCount, uWrap, vWrap, uMouseSensitivity, vMouseSensitivity,
          uStartIndex, vStartIndex, minZoom, maxZoom, rotationDamping,
          downScaleToBrowser, addDownScaleGUIButton, downloadOnInteraction,
          imageExtension, showLoading, loadingIcon, allowFullscreen,
          uReverse, vReverse, hotspots, isIBooksWidget
        );

        // üëâ Agregamos el listener de scroll despu√©s de inicializar el XR
        window.addEventListener('scroll', onScroll);
      }

      function onScroll() {
        const scrollTop = window.scrollY;
        const maxScroll = document.body.scrollHeight - window.innerHeight;
        const scrollFraction = scrollTop / maxScroll;
        const frame = Math.floor(scrollFraction * (totalFrames - 1));

        // Aseg√∫rate de que la funci√≥n exista (depende de tu versi√≥n de KeyShotXR.js)
        if (keyshotXR && typeof keyshotXR.setImageIndex === 'function') {
          keyshotXR.setImageIndex(frame);
        }
      }

      window.onload = initKeyShotXR;
    </script>
  </head>
  <body oncontextmenu="return false;">
    <div id="KeyShotXR"></div>
  </body>
</html>
